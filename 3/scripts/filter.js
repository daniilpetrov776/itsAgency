var A=document.querySelector("#card").content.querySelector(".products__products-list-item"),ee=document.querySelector("#card-cart").content.querySelector(".cart__cart-list-item"),S=document.querySelector(".products__products-list"),te=document.querySelector(".cart__cart-list"),p=e=>{let t=document.createDocumentFragment();e.forEach(({id:r,name:o,price:c,image:s})=>{let n=A.cloneNode(!0),x=n.querySelector(".card__card-image"),I=n.querySelector(".card__card-price"),B=n.querySelector(".card__card-title"),m=n.querySelectorAll("source");m[0].srcset=`./images/mock-item${s}@1x.webp, ./images/mock-item${s}@2x.webp 2x`,m[1].srcset=`./images/mock-item${s}@1x.png, ./images/mock-item${s}@2x.png 2x`,m[2].srcset=`./images/mock-item-mobile${s}@1x.webp, ./images/mock-item-mobile${s}@2x.webp 2x`,n.dataset.id=r,x.src=`./images/mock-item-mobile${s}@1x.png`,x.srcset=`./images/mock-item-mobile${s}@2x.png`,I.textContent=`${c} \u20BD`,B.textContent=o,t.appendChild(n)}),S.appendChild(t)};var f=()=>{S.querySelectorAll(".card").forEach(t=>t.remove())};var k=(e,t)=>{let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>e.apply(void 0,o),t)}};function v(e,t){let r=0;return(...o)=>{let c=new Date;c-r>=t&&(e.apply(this,o),r=c)}}var g=e=>e%10===1&&e%100!==11?`${e} \u0442\u043E\u0432\u0430\u0440`:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?`${e} \u0442\u043E\u0432\u0430\u0440\u0430`:`${e} \u0442\u043E\u0432\u0430\u0440\u043E\u0432`;var i={EXPENSIVE:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0434\u043E\u0440\u043E\u0433\u0438\u0435",CHEAP:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u0435\u0434\u043E\u0440\u043E\u0433\u0438\u0435",POPULAR:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435",NEW:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435"},H=document.querySelector(".select__value"),ce=document.querySelector(".cards-header__select-background");var N=(e,t)=>parseInt(t.price,10)-parseInt(e.price,10),E=e=>[...e].sort(N),O=(e,t)=>parseInt(e.price,10)-parseInt(t.price,10),R=e=>[...e].sort(O),j=(e,t)=>t.views-e.views,K=e=>[...e].sort(j),V=(e,t)=>e.age-t.age,W=e=>[...e].sort(V),U=(e,t)=>{switch(t){case i.EXPENSIVE:return E(e);case i.CHEAP:return R(e);case i.POPULAR:return K(e);case i.NEW:return W(e);default:return E(e)}},_=e=>U(e,H.textContent);var X=500,q=document.querySelector(".cards-header__mobile-sort-button"),u=document.querySelector(".sort__sort-wrapper"),b=u.querySelector(".sort__sort-list"),a=u.querySelector(".sort__sort-drag-button"),L=document.querySelector(".cards-header__amount-text"),y,h,d=!1,l=e=>{Object.assign(b.style,e)},C=()=>{l({transform:"translateY(0)",transition:"",display:""})},P=()=>{u.classList.add("sort__sort-wrapper--hidden"),C(),G()},w=e=>{!b.contains(e.target)&&e.target!==q&&(P(),document.removeEventListener("click",w))},M=()=>{u.classList.remove("sort__sort-wrapper--hidden"),document.addEventListener("click",w),z()};q.addEventListener("click",M);var $=e=>{e.preventDefault(),d=!0,y=e.touches[0].clientY},T=v(e=>{if(e.preventDefault(),d){h=e.touches[0].clientY;let t=h-y;t>0&&l({transform:`translateY(${t}px)`})}},1),F=e=>{e.preventDefault(),d&&(h-y>50?(l({transition:"transform 0.3s ease",transform:`translateY(${window.innerHeight}px)`}),setTimeout(()=>{l({display:"none"}),C(),P()},300)):l({transition:"transform 0.3s ease",transform:"translateY(0)"}),d=!1)};function z(){a.addEventListener("touchstart",$),a.addEventListener("touchmove",T),a.addEventListener("touchend",F)}function G(){a.removeEventListener("touchstart",$),a.removeEventListener("touchmove",T),a.removeEventListener("touchend",F)}var D=()=>({new:document.querySelector("#filter-new")?.checked||!1,available:document.querySelector("#filter-available")?.checked||!1,contract:document.querySelector("#filter-contract")?.checked||!1,exclusive:document.querySelector("#filter-exclusive")?.checked||!1,onsale:document.querySelector("#filter-onsale")?.checked||!1});function Y(e,t){return Object.values(e).every(o=>!o)?t:t.filter(o=>Object.keys(e).every(c=>!e[c]||o[c]===String(e[c])))}var J=k(e=>{f(),p(e)},X),Q=e=>{let t=Y(D(),e),r=_(t);console.log(r),J(r),L.textContent=g(r.length)},Z=e=>{let t=Y(D(),e),r=_(t);console.log(r),f(),p(r),L.textContent=g(r.length)},ie=e=>{Z(e),document.addEventListener("click",t=>{(t.target.matches("input")||t.target.classList.contains("select__option"))&&Q(e)})};export{D as getCheckboxStates,ie as initFilters,J as renderFilteredPhotos};
