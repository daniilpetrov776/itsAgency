var A=document.querySelector("#card").content.querySelector(".products__products-list-item"),Z=document.querySelector("#card-cart").content.querySelector(".cart__cart-list-item"),S=document.querySelector(".products__products-list"),ee=document.querySelector(".cart__cart-list"),p=e=>{let t=document.createDocumentFragment();e.forEach(({id:r,name:c,price:a,image:o})=>{let s=A.cloneNode(!0),x=s.querySelector(".card__card-image"),I=s.querySelector(".card__card-price"),B=s.querySelector(".card__card-title"),m=s.querySelectorAll("source");m[0].srcset=`./images/mock-item${o}@1x.webp, ./images/mock-item${o}@2x.webp 2x`,m[1].srcset=`./images/mock-item${o}@1x.png, ./images/mock-item${o}@2x.png 2x`,m[2].srcset=`./images/mock-item-mobile${o}@1x.webp, ./images/mock-item-mobile${o}@2x.webp 2x`,s.dataset.id=r,x.src=`./images/mock-item-mobile${o}@1x.png`,x.srcset=`./images/mock-item-mobile${o}@2x.png`,I.textContent=`${a} \u20BD`,B.textContent=c,t.appendChild(s)}),S.appendChild(t)};var g=()=>{S.querySelectorAll(".card").forEach(t=>t.remove())};var k=(e,t)=>{let r;return(...c)=>{clearTimeout(r),r=setTimeout(()=>e.apply(void 0,c),t)}};var _=e=>e%10===1&&e%100!==11?`${e} \u0442\u043E\u0432\u0430\u0440`:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?`${e} \u0442\u043E\u0432\u0430\u0440\u0430`:`${e} \u0442\u043E\u0432\u0430\u0440\u043E\u0432`;var i={EXPENSIVE:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u0434\u043E\u0440\u043E\u0433\u0438\u0435",CHEAP:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u0435\u0434\u043E\u0440\u043E\u0433\u0438\u0435",POPULAR:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435",NEW:"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043D\u043E\u0432\u044B\u0435"},D=document.querySelector(".select__value"),oe=document.querySelector(".cards-header__select-background");var H=(e,t)=>parseInt(t.price,10)-parseInt(e.price,10),v=e=>[...e].sort(H),N=(e,t)=>parseInt(e.price,10)-parseInt(t.price,10),O=e=>[...e].sort(N),R=(e,t)=>t.views-e.views,j=e=>[...e].sort(R),K=(e,t)=>e.age-t.age,V=e=>[...e].sort(K),W=(e,t)=>{switch(t){case i.EXPENSIVE:return v(e);case i.CHEAP:return O(e);case i.POPULAR:return j(e);case i.NEW:return V(e);default:return v(e)}},f=e=>W(e,D.textContent);var U=500,E=document.querySelector(".cards-header__mobile-sort-button"),u=document.querySelector(".sort__sort-wrapper"),q=u.querySelector(".sort__sort-list"),n=u.querySelector(".sort__sort-drag-button"),b=document.querySelector(".cards-header__amount-text"),y,h,d=!1,l=e=>{Object.assign(q.style,e)},L=()=>{l({transform:"translateY(0)",transition:"",display:""})},C=()=>{u.classList.add("sort__sort-wrapper--hidden"),L(),z()},P=e=>{!q.contains(e.target)&&e.target!==E&&(C(),document.removeEventListener("click",P))},X=()=>{u.classList.remove("sort__sort-wrapper--hidden"),document.addEventListener("click",P),M()};E.addEventListener("click",X);var w=e=>{d=!0,y=e.touches[0].clientY},$=e=>{if(d){h=e.touches[0].clientY;let t=h-y;t>0&&l({transform:`translateY(${t}px)`})}},F=()=>{d&&(h-y>50?(l({transition:"transform 0.3s ease",transform:`translateY(${window.innerHeight}px)`}),setTimeout(()=>{l({display:"none"}),L(),C()},300)):l({transition:"transform 0.3s ease",transform:"translateY(0)"}),d=!1)};function M(){n.addEventListener("touchstart",w),n.addEventListener("touchmove",$),n.addEventListener("touchend",F)}function z(){n.removeEventListener("touchstart",w),n.removeEventListener("touchmove",$),n.removeEventListener("touchend",F)}var T=()=>({new:document.querySelector("#filter-new")?.checked||!1,available:document.querySelector("#filter-available")?.checked||!1,contract:document.querySelector("#filter-contract")?.checked||!1,exclusive:document.querySelector("#filter-exclusive")?.checked||!1,onsale:document.querySelector("#filter-onsale")?.checked||!1});function Y(e,t){return Object.values(e).every(c=>!c)?t:t.filter(c=>Object.keys(e).every(a=>!e[a]||c[a]===String(e[a])))}var G=k(e=>{g(),p(e)},U),J=e=>{let t=Y(T(),e),r=f(t);console.log(r),G(r),b.textContent=_(r.length)},Q=e=>{let t=Y(T(),e),r=f(t);console.log(r),g(),p(r),b.textContent=_(r.length)},le=e=>{Q(e),document.addEventListener("click",t=>{(t.target.matches("input")||t.target.classList.contains("select__option"))&&J(e)})};export{T as getCheckboxStates,le as initFilters,G as renderFilteredPhotos};
